{"ast":null,"code":"import axios from \"axios\";\nimport { loadUserCart } from \"./cartActions\";\nimport { saveUserCart } from \"./cartActions\";\nexport const loginUser = formData => async dispatch => {\n  try {\n    const {\n      data\n    } = await axios.post(\"http://localhost:7000/login\", formData, {\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    });\n    dispatch({\n      type: \"USER_LOGIN_SUCCESS\",\n      payload: data\n    });\n    localStorage.setItem(\"userInfo\", JSON.stringify(data));\n    console.log(\"✅ userInfo saved to localStorage:\", data);\n    return {\n      success: true\n    }; // ✅ return result\n  } catch (error) {\n    var _error$response, _error$response$data;\n    console.error(\"Login error:\", error);\n    return {\n      success: false,\n      message: ((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.errors) || \"Login failed\"\n    }; // ✅ return failure\n  }\n};\nexport const logout = () => async (dispatch, getState) => {\n  //  Clear localStorage *before* anything\n  localStorage.removeItem('userInfo');\n  localStorage.removeItem('cartState');\n\n  //  Save cart before logout if needed\n  // const { cart: { cartItems }, userLogin: { userInfo } } = getState();\n  // if (userInfo?.token) {\n  //   await dispatch(saveUserCart()); // only if logged in\n  // }\n\n  // Clear Redux\n  dispatch({\n    type: 'USER_LOGOUT'\n  });\n  dispatch({\n    type: 'CLEAR_CART'\n  });\n};","map":{"version":3,"names":["axios","loadUserCart","saveUserCart","loginUser","formData","dispatch","data","post","headers","type","payload","localStorage","setItem","JSON","stringify","console","log","success","error","_error$response","_error$response$data","message","response","errors","logout","getState","removeItem"],"sources":["D:/Sachin/Project/E-Commerce Project/frontend/src/actions/userActions.js"],"sourcesContent":["import axios from \"axios\";\r\nimport { loadUserCart } from \"./cartActions\"; \r\nimport { saveUserCart } from \"./cartActions\";\r\n\r\nexport const loginUser = (formData) => async (dispatch) => {\r\n  try {\r\n    const { data } = await axios.post(\"http://localhost:7000/login\", formData, {\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n    });\r\n\r\n    dispatch({ type: \"USER_LOGIN_SUCCESS\", payload: data });\r\n\r\n    localStorage.setItem(\"userInfo\", JSON.stringify(data));\r\n    console.log(\"✅ userInfo saved to localStorage:\", data);\r\n    \r\n\r\n    return { success: true }; // ✅ return result\r\n  } catch (error) {\r\n    console.error(\"Login error:\", error);\r\n    return { success: false, message: error.response?.data?.errors || \"Login failed\" }; // ✅ return failure\r\n  }\r\n};\r\n\r\n\r\nexport const logout = () => async (dispatch, getState) => {\r\n  //  Clear localStorage *before* anything\r\n  localStorage.removeItem('userInfo');\r\n  localStorage.removeItem('cartState');\r\n\r\n  //  Save cart before logout if needed\r\n  // const { cart: { cartItems }, userLogin: { userInfo } } = getState();\r\n  // if (userInfo?.token) {\r\n  //   await dispatch(saveUserCart()); // only if logged in\r\n  // }\r\n\r\n  // Clear Redux\r\n  dispatch({ type: 'USER_LOGOUT' });\r\n  dispatch({ type: 'CLEAR_CART' });\r\n};\r\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,YAAY,QAAQ,eAAe;AAC5C,SAASC,YAAY,QAAQ,eAAe;AAE5C,OAAO,MAAMC,SAAS,GAAIC,QAAQ,IAAK,MAAOC,QAAQ,IAAK;EACzD,IAAI;IACF,MAAM;MAAEC;IAAK,CAAC,GAAG,MAAMN,KAAK,CAACO,IAAI,CAAC,6BAA6B,EAAEH,QAAQ,EAAE;MACzEI,OAAO,EAAE;QAAE,cAAc,EAAE;MAAmB;IAChD,CAAC,CAAC;IAEFH,QAAQ,CAAC;MAAEI,IAAI,EAAE,oBAAoB;MAAEC,OAAO,EAAEJ;IAAK,CAAC,CAAC;IAEvDK,YAAY,CAACC,OAAO,CAAC,UAAU,EAAEC,IAAI,CAACC,SAAS,CAACR,IAAI,CAAC,CAAC;IACtDS,OAAO,CAACC,GAAG,CAAC,mCAAmC,EAAEV,IAAI,CAAC;IAGtD,OAAO;MAAEW,OAAO,EAAE;IAAK,CAAC,CAAC,CAAC;EAC5B,CAAC,CAAC,OAAOC,KAAK,EAAE;IAAA,IAAAC,eAAA,EAAAC,oBAAA;IACdL,OAAO,CAACG,KAAK,CAAC,cAAc,EAAEA,KAAK,CAAC;IACpC,OAAO;MAAED,OAAO,EAAE,KAAK;MAAEI,OAAO,EAAE,EAAAF,eAAA,GAAAD,KAAK,CAACI,QAAQ,cAAAH,eAAA,wBAAAC,oBAAA,GAAdD,eAAA,CAAgBb,IAAI,cAAAc,oBAAA,uBAApBA,oBAAA,CAAsBG,MAAM,KAAI;IAAe,CAAC,CAAC,CAAC;EACtF;AACF,CAAC;AAGD,OAAO,MAAMC,MAAM,GAAGA,CAAA,KAAM,OAAOnB,QAAQ,EAAEoB,QAAQ,KAAK;EACxD;EACAd,YAAY,CAACe,UAAU,CAAC,UAAU,CAAC;EACnCf,YAAY,CAACe,UAAU,CAAC,WAAW,CAAC;;EAEpC;EACA;EACA;EACA;EACA;;EAEA;EACArB,QAAQ,CAAC;IAAEI,IAAI,EAAE;EAAc,CAAC,CAAC;EACjCJ,QAAQ,CAAC;IAAEI,IAAI,EAAE;EAAa,CAAC,CAAC;AAClC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}