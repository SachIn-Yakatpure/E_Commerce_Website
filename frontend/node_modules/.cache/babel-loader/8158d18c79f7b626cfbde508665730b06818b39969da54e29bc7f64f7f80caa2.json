{"ast":null,"code":"import { useEffect } from \"react\";\nconst initialState = {\n  cartItems: [],\n  cartCounter: 0,\n  totalPrice: 0,\n  deliverCharges: 50,\n  taxes: 0,\n  grandTotal: 0\n};\nuseEffect(() => {\n  localStorage.setItem(\"cartData\", JSON.stringify(cartItems));\n}, [cartItems]);\nconst cartReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case 'ADD_TO_CART':\n      const exisitingItemIndex = state.cartItems.findIndex(item => item.id === action.payload.id);\n      if (exisitingItemIndex !== -1) {\n        const updatedCartItems = state.cartItems.map((item, index) => {\n          if (index === exisitingItemIndex) {\n            return {\n              ...item,\n              quantity: item.quantity + 1,\n              total_item_price: (item.quantity + 1) * item.price\n            };\n          }\n          return item;\n        });\n        return {\n          ...state,\n          cartItems: updatedCartItems,\n          cartCounter: state.cartCounter + 1,\n          totalPrice: state.totalPrice + action.payload.price,\n          taxes: (state.totalPrice + action.payload.price) * 0.18,\n          grandTotal: state.totalPrice + state.taxes + action.payload.price\n        };\n      } else {\n        return {\n          ...state,\n          cartItems: [...state.cartItems, {\n            ...action.payload,\n            quantity: 1,\n            total_item_price: action.payload.price\n          }],\n          cartCounter: state.cartCounter + 1,\n          totalPrice: state.totalPrice + action.payload.price,\n          taxes: (state.totalPrice + action.payload.price) * 0.18,\n          grandTotal: state.totalPrice + state.taxes + action.payload.price\n        };\n      }\n    case 'REMOVE_FROM_CART':\n      const updatedCartItems = state.cartItems.filter(item => item.id !== action.payload.id);\n      const removedItem = state.cartItems.find(item => item.id === action.payload);\n      return {\n        ...state,\n        cartItems: updatedCartItems,\n        cartCounter: state.cartCounter - removedItem.quantity,\n        totalPrice: state.totalPrice - removedItem.price * removedItem.quantity,\n        taxes: (state.totalPrice + action.payload.price) * 0.18,\n        grandTotal: state.totalPrice + state.taxes + action.payload.price\n      };\n    default:\n      return state;\n    case 'INCREMENT_CART_COUNTER':\n      {\n        const updatedCartItems = state.cartItems.map(item => {\n          if (item.id === action.payload) {\n            const newQty = item.quantity + 1;\n            return {\n              ...item,\n              quantity: newQty,\n              total_item_price: newQty * item.price\n            };\n          }\n          return item;\n        });\n        const newTotalPrice = updatedCartItems.reduce((acc, item) => acc + item.total_item_price, 0);\n        const newTaxes = newTotalPrice * 0.18;\n        const newGrandTotal = newTotalPrice + newTaxes + state.deliverCharges;\n        return {\n          ...state,\n          cartItems: updatedCartItems,\n          totalPrice: newTotalPrice,\n          taxes: newTaxes,\n          grandTotal: newGrandTotal\n        };\n      }\n    case 'DECREMENT_CART_COUNTER':\n      {\n        const updatedCartItems = state.cartItems.map(item => {\n          if (item.id === action.payload && item.quantity > 1) {\n            const newQty = item.quantity - 1;\n            return {\n              ...item,\n              quantity: newQty,\n              total_item_price: newQty * item.price\n            };\n          }\n          return item;\n        });\n        const newTotalPrice = updatedCartItems.reduce((acc, item) => acc + item.total_item_price, 0);\n        const newTaxes = newTotalPrice * 0.18;\n        const newGrandTotal = newTotalPrice + newTaxes + state.deliverCharges;\n        return {\n          ...state,\n          cartItems: updatedCartItems,\n          totalPrice: newTotalPrice,\n          taxes: newTaxes,\n          grandTotal: newGrandTotal\n        };\n      }\n  }\n};\nexport default cartReducer;","map":{"version":3,"names":["useEffect","initialState","cartItems","cartCounter","totalPrice","deliverCharges","taxes","grandTotal","localStorage","setItem","JSON","stringify","cartReducer","state","action","type","exisitingItemIndex","findIndex","item","id","payload","updatedCartItems","map","index","quantity","total_item_price","price","filter","removedItem","find","newQty","newTotalPrice","reduce","acc","newTaxes","newGrandTotal"],"sources":["D:/Sachin/Project/E-Commerce Project/frontend/src/reducers/cartReducer.js"],"sourcesContent":["import { useEffect } from \"react\";\r\n\r\nconst initialState = {\r\n    cartItems: [],\r\n    cartCounter: 0,\r\n    totalPrice: 0,\r\n    deliverCharges: 50,\r\n    taxes: 0,\r\n    grandTotal: 0,\r\n\r\n};\r\n\r\n\r\nuseEffect(()=>{\r\n    localStorage.setItem(\"cartData\",JSON.stringify(cartItems))\r\n},[cartItems])\r\n\r\nconst cartReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case 'ADD_TO_CART':\r\n            const exisitingItemIndex = state.cartItems.findIndex(item => item.id === action.payload.id);\r\n            if (exisitingItemIndex !== -1) {\r\n                const updatedCartItems = state.cartItems.map((item, index) => {\r\n                    if (index === exisitingItemIndex) {\r\n                        return {\r\n                            ...item, quantity: item.quantity + 1, total_item_price: (item.quantity + 1) * item.price\r\n                        };\r\n                    }\r\n                    return item;\r\n                });\r\n\r\n                return {\r\n                    ...state,\r\n                    cartItems: updatedCartItems,\r\n                    cartCounter: state.cartCounter + 1,\r\n                    totalPrice: state.totalPrice + action.payload.price,\r\n                    taxes: (state.totalPrice + action.payload.price) * 0.18,\r\n                    grandTotal: state.totalPrice + state.taxes + action.payload.price\r\n\r\n                };\r\n\r\n            } else {\r\n                return {\r\n                    ...state,\r\n                    cartItems: [...state.cartItems, { ...action.payload, quantity: 1, total_item_price: action.payload.price }],\r\n                    cartCounter: state.cartCounter + 1,\r\n                    totalPrice: state.totalPrice + action.payload.price,\r\n                    taxes: (state.totalPrice + action.payload.price) * 0.18,\r\n                    grandTotal: state.totalPrice + state.taxes + action.payload.price\r\n                };\r\n            }\r\n\r\n        case 'REMOVE_FROM_CART':\r\n            const updatedCartItems = state.cartItems.filter(item => item.id !== action.payload.id);\r\n            const removedItem = state.cartItems.find(item => item.id === action.payload);\r\n\r\n            return {\r\n\r\n                ...state,\r\n                cartItems: updatedCartItems,\r\n                cartCounter: state.cartCounter - removedItem.quantity,\r\n                totalPrice: state.totalPrice - (removedItem.price * removedItem.quantity),\r\n                taxes: (state.totalPrice + action.payload.price) * 0.18,\r\n                grandTotal: state.totalPrice + state.taxes + action.payload.price\r\n            };\r\n\r\n        default:\r\n            return state;\r\n\r\n        case 'INCREMENT_CART_COUNTER': {\r\n            const updatedCartItems = state.cartItems.map(item => {\r\n                if (item.id === action.payload) {\r\n                    const newQty = item.quantity + 1;\r\n                    return {\r\n                        ...item,\r\n                        quantity: newQty,\r\n                        total_item_price: newQty * item.price\r\n                    };\r\n                }\r\n                return item;\r\n            });\r\n            const newTotalPrice = updatedCartItems.reduce((acc, item) => acc + item.total_item_price, 0);\r\n            const newTaxes = newTotalPrice * 0.18;\r\n            const newGrandTotal = newTotalPrice + newTaxes + state.deliverCharges;\r\n\r\n            return {\r\n                ...state,\r\n                cartItems: updatedCartItems,\r\n                totalPrice: newTotalPrice,\r\n                taxes: newTaxes,\r\n                grandTotal: newGrandTotal,\r\n            };\r\n        }\r\n\r\n        case 'DECREMENT_CART_COUNTER': {\r\n            const updatedCartItems = state.cartItems.map(item => {\r\n              if (item.id === action.payload && item.quantity > 1) {\r\n                const newQty = item.quantity - 1;\r\n                return {\r\n                  ...item,\r\n                  quantity: newQty,\r\n                  total_item_price: newQty * item.price\r\n                };\r\n              }\r\n              return item;\r\n            });\r\n          \r\n            const newTotalPrice = updatedCartItems.reduce((acc, item) => acc + item.total_item_price, 0);\r\n            const newTaxes = newTotalPrice * 0.18;\r\n            const newGrandTotal = newTotalPrice + newTaxes + state.deliverCharges;\r\n          \r\n            return {\r\n              ...state,\r\n              cartItems: updatedCartItems,\r\n              totalPrice: newTotalPrice,\r\n              taxes: newTaxes,\r\n              grandTotal: newGrandTotal,\r\n            };\r\n          }\r\n          \r\n          \r\n    }\r\n    \r\n    \r\n};\r\n\r\n\r\n\r\nexport default cartReducer; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}