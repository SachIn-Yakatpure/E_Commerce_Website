{"ast":null,"code":"const initialState = {\n  cartItems: [],\n  cartCounter: 0,\n  totalPrice: 0,\n  deliverCharges: 50,\n  taxes: 0,\n  grandTotal: 0\n};\nconst cartReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case 'ADD_TO_CART':\n      const exisitingItemIndex = state.cartItems.findIndex(item => item.id === action.payload.id);\n      if (exisitingItemIndex !== -1) {\n        const updatedCartItems = state.cartItems.map((item, index) => {\n          if (index === exisitingItemIndex) {\n            return {\n              ...item,\n              quantity: item.quantity + 1,\n              total_item_price: (item.quantity + 1) * item.price\n            };\n          }\n          return item;\n        });\n        return {\n          ...state,\n          cartItems: updatedCartItems,\n          cartCounter: state.cartCounter + 1,\n          totalPrice: state.totalPrice + action.payload.price,\n          taxes: (state.totalPrice + action.payload.price) * 0.18,\n          grandTotal: state.totalPrice + state.taxes + action.payload.price\n        };\n      } else {\n        return {\n          ...state,\n          cartItems: [...state.cartItems, {\n            ...action.payload,\n            quantity: 1,\n            total_item_price: action.payload.price\n          }],\n          cartCounter: state.cartCounter + 1,\n          totalPrice: state.totalPrice + action.payload.price,\n          taxes: (state.totalPrice + action.payload.price) * 0.18,\n          grandTotal: state.totalPrice + state.taxes + action.payload.price\n        };\n      }\n    case 'REMOVE_FROM_CART':\n      const updatedCartItems = state.cartItems.filter(item => item.id !== action.payload.id);\n      const removedItem = state.cartItems.find(item => item.id === action.payload);\n      return {\n        ...state,\n        cartItems: updatedCartItems,\n        cartCounter: state.cartCounter - removedItem.quantity,\n        totalPrice: state.totalPrice - removedItem.price * removedItem.quantity,\n        taxes: (state.totalPrice + action.payload.price) * 0.18,\n        grandTotal: state.totalPrice + state.taxes + action.payload.price\n      };\n    default:\n      return state;\n    case 'DECREMENT_CART_COUNTER':\n  }\n};\nexport default cartReducer;","map":{"version":3,"names":["initialState","cartItems","cartCounter","totalPrice","deliverCharges","taxes","grandTotal","cartReducer","state","action","type","exisitingItemIndex","findIndex","item","id","payload","updatedCartItems","map","index","quantity","total_item_price","price","filter","removedItem","find"],"sources":["D:/Sachin/Project/E-Commerce Project/frontend/src/reducers/cartReducer.js"],"sourcesContent":["const initialState = {\r\n    cartItems: [],\r\n    cartCounter:0 ,\r\n    totalPrice: 0,\r\n    deliverCharges: 50,\r\n    taxes: 0,\r\n    grandTotal: 0,\r\n \r\n};\r\n\r\n\r\nconst cartReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case 'ADD_TO_CART':\r\n            const exisitingItemIndex = state.cartItems.findIndex(item => item.id === action.payload.id);\r\n            if (exisitingItemIndex !== -1) {\r\n                const updatedCartItems = state.cartItems.map((item, index)=>{\r\n                    if (index === exisitingItemIndex) {\r\n                        return {\r\n                                ...item, quantity: item.quantity + 1, total_item_price: (item.quantity+1) * item.price };\r\n                              }\r\n                              return item;\r\n                });\r\n\r\n                return {\r\n                    ...state,\r\n                    cartItems: updatedCartItems,\r\n                    cartCounter: state.cartCounter + 1,\r\n                    totalPrice: state.totalPrice + action.payload.price,\r\n                    taxes: (state.totalPrice + action.payload.price) * 0.18,\r\n                    grandTotal: state.totalPrice + state.taxes + action.payload.price\r\n\r\n                };\r\n                \r\n            } else {\r\n                return{\r\n                    ...state,\r\n                    cartItems: [...state.cartItems, {...action.payload, quantity: 1, total_item_price:action.payload.price}],\r\n                    cartCounter: state.cartCounter + 1,\r\n                    totalPrice: state.totalPrice + action.payload.price,\r\n                    taxes: (state.totalPrice + action.payload.price) * 0.18,\r\n                    grandTotal: state.totalPrice + state.taxes + action.payload.price\r\n                };\r\n            }\r\n\r\n            case 'REMOVE_FROM_CART':\r\n                const updatedCartItems = state.cartItems.filter(item => item.id !== action.payload.id);\r\n                const removedItem = state.cartItems.find(item => item.id === action.payload);\r\n\r\n                return{\r\n\r\n                    ...state,\r\n                    cartItems: updatedCartItems,\r\n                    cartCounter: state.cartCounter - removedItem.quantity,\r\n                    totalPrice: state.totalPrice - (removedItem.price * removedItem.quantity),\r\n                    taxes: (state.totalPrice + action.payload.price) * 0.18,\r\n                    grandTotal: state.totalPrice + state.taxes + action.payload.price\r\n                };\r\n\r\n                default:\r\n                    return state;\r\n            \r\n            case 'DECREMENT_CART_COUNTER':\r\n\r\n\r\n\r\n    }\r\n};\r\n\r\n\r\nexport default cartReducer;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}